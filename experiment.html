<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Invaders</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="game-container">
    <div id="defender-container"></div>
    <div id="alien-container"></div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="script.js"></script>

</body>
<script>
 $(document).ready(function () {
    let currentPosition = 300; // Adjust the initial position
    let aliens = []; // Array to store instances of the Alien class

    // Creating a defender class and adding the image of the defender to it
    class Defender {
        constructor(src, alt, x, container) {
            this.src = src;
            this.alt = alt;
            this.container = container;
            this.x = x;

            this.imageElement = $('<img>', {
                src: this.src,
                alt: this.alt
            });

            this.imageElement.css('position', 'absolute'); // Set position to absolute
            this.imageElement.css('left', this.x + 'px');
        }

        appendImage() {
            $(this.container).append(this.imageElement);
        }

        move(direction) {
            const containerWidth = $(this.container).width();
            const leftBoundary = 0;

            if (direction === 'left') {
                this.x -= 10;
                if (this.x < leftBoundary) {
                    this.x = leftBoundary;
                }
            } else if (direction === 'right') {
                this.x += 10;
                const maxRight = containerWidth - this.imageElement.width();
                if (this.x > maxRight) {
                    this.x = maxRight;
                }
            }

            this.imageElement.css('left', this.x + 'px');
        }
    }

    $(document).keydown(function (e) {
        if (e.which === 37) {
            space_cat.move('left');
        } else if (e.which === 39) {
            space_cat.move('right');
        }
    });

    const space_cat = new Defender('spacecat.png', 'space cat', currentPosition, '#defender-container');
    space_cat.appendImage();

    // Creating an alien class
    class Alien {
        constructor(x, y, container) {
            this.x = x;
            this.y = y;
            this.container = container;

            this.imageElement = $('<img>', {
                src: 'space.png', // Replace with the actual alien image
                alt: 'alien'
            });

            this.imageElement.css('position', 'absolute');
            this.imageElement.css('left', this.x + 'px');
            this.imageElement.css('top', this.y + 'px');
        }

        appendImage() {
            $(this.container).append(this.imageElement);
        }

        move() {
            const containerWidth = $(this.container).width();
            const alienWidth = this.imageElement.width();

            this.x += 10;

            // Check if the alien reaches the right end
            if (this.x + alienWidth >= containerWidth) {
                // Move the alien to the next row
                this.x = 0;
                this.y += 50;
            }

            this.imageElement.css('left', this.x + 'px');
            this.imageElement.css('top', this.y + 'px');
        }
    }

    // Function to create a specified number of aliens
    function createAliens(numAliens, container) {
        for (let i = 0; i < numAliens; i++) {
            const x = (i % 10) * 50; // Adjust the spacing between aliens
            const y = Math.floor(i / 10) * 50; // Adjust the initial top position

            const alien = new Alien(x, y, container);
            aliens.push(alien);
            alien.appendImage();
        }
    }

    // Call the function to create a specified number of aliens
    createAliens(30, '#alien-container'); // Adjust the number of aliens as needed

    
// Function to move aliens using requestAnimationFrame
function moveAliens() {
    for (let i = 0; i < aliens.length; i++) {
        aliens[i].move();
    }

    requestAnimationFrame(moveAliens); // Call itself for the next animation frame
}

// Start moving aliens automatically
requestAnimationFrame(moveAliens);

 });
</script>
</html>



$(document).ready(function(){

  //creating defender class, adding image, move function, then creating space_cat as defender instance
      class Defender {
          constructor(src, alt, x, y, container){
              this.src = src;
              this.alt = alt;
              this.container = container;
              this.x = x;
              this.y = y;
              this.defender_imageElement = $('<img>', {
                  src: this.src,
                  alt: this.alt,
              });
  
              this.defender_imageElement.css('position', 'absolute', );
              this.defender_imageElement.css('left', this.x + 'px');
              this.defender_imageElement.css('top', this.y + 'px');
      
  
          } 
  
          append_defenderImage(){
              $(this.container).append(this.defender_imageElement);
  
          }
  
          
          move(direction){
              const containerWidth = $(this.container).width();
              const containerLeft = 0;
              if (direction === 'left'){
                  this.x -= 15; 
                  if (this.x < containerLeft){
                      this.x = containerLeft;
                  }
              } else if (direction === 'right'){
                  this.x += 15;
                  const containerRight = containerWidth - this.defender_imageElement.width();
                  if (this.x > containerRight){
                      this.x = containerRight;
                  }
              }
  
              this.defender_imageElement.css('left', this.x + 'px' );
          }
  
      }
  
          $(document).keydown(function(e){
              if (e.which === 37){
                  space_cat.move('left');
              } else if (e.which === 39){
                  space_cat.move('right');
              }
          });
  
  
     
  
      const space_cat = new Defender ('spacecat.png', 'space cat', 370, 560, '#gamecontainer');
      space_cat.append_defenderImage();
      space_cat.move();
  
  
  let invaders = [];
  class Invader {
      constructor(src, alt, speed, direction, x, y, container){
          this.src = src;
          this.alt = alt;
          this.speed = speed;
          this.direction = direction;
          this.x = x;
          this.y = y;
          this.container = container;
          this.invader_imageElement = $('<img>', {
              src: this.src,
              alt: this.alt
          });
  
          this.invader_imageElement.css('position', 'absolute');
          this.invader_imageElement.css('left', this.x + 'px' );
          this.invader_imageElement.css('top', this.y + 'px');
  
  
          }
  
          append_invaderImage(){
              $(this.container).append(this.invader_imageElement);
  
          }
  
          move(){
              const containerWidth = $(this.container).width();
              const invaderWidth = this.invader_imageElement.width();
  
              if (this.direction === 'right'){
                  this.x += this.speed;
              } else if (this.direction === 'left'){
                  this.x -= this.speed;
              }

                  if (this.x + invaderWidth >= containerWidth || this.x <= 0){
                      if (this.direction === 'right'){
                          this.direction = 'downLeft';
                      } else if (this.direction === 'downLeft'){
                          this.direction = 'left';
                          this.y += 50;
                      } else {
                          this.direction = 'right';
                          this.y += 50;
                      }
                  }
          
              this.invader_imageElement.css('left', this.x + 'px');
              this.invader_imageElement.css('top', this.y + 'px');
  
          }
  
  }
  
  function invaderGrid (rows, columns, container){
      for (let i = 0; i < rows; i++){
          for (let j = 0; j < columns; j++){
              const x = 0 + j * 70;
              const y = i * 70;
  
          
         
  
          const space_mouse = new Invader('spacemouse.png', 'space mouse', 1.5, 'right', x, y, container);
          invaders.push(space_mouse);
          space_mouse.append_invaderImage();
          }
      }
  
  }
  
  invaderGrid(5, 5,'#invadercontainer');
  
  function moveInvaders(){
      for (let i = 0; i < invaders.length; i++){
          invaders[i].move();
      }
  
      requestAnimationFrame(moveInvaders);
  
  }
  
  requestAnimationFrame(moveInvaders);
  
  });
  
  
  NEWWWW 
  $(document).ready(function(){

    //creating defender class, adding image, move function, then creating space_cat as defender instance
        class Defender {
            constructor(src, alt, x, y, container){
                this.src = src;
                this.alt = alt;
                this.container = container;
                this.x = x;
                this.y = y;
                this.defender_imageElement = $('<img>', {
                    src: this.src,
                    alt: this.alt,
                });
    
                this.defender_imageElement.css('position', 'absolute', );
                this.defender_imageElement.css('left', this.x + 'px');
                this.defender_imageElement.css('top', this.y + 'px');
        
    
            } 
    
            append_defenderImage(){
                $(this.container).append(this.defender_imageElement);
    
            }
    
            
            move(direction){
                const containerWidth = $(this.container).width();
                const containerLeft = 0;
                if (direction === 'left'){
                    this.x -= 15; 
                    if (this.x < containerLeft){
                        this.x = containerLeft;
                    }
                } else if (direction === 'right'){
                    this.x += 15;
                    const containerRight = containerWidth - this.defender_imageElement.width();
                    if (this.x > containerRight){
                        this.x = containerRight;
                    }
                }
    
                this.defender_imageElement.css('left', this.x + 'px' );
            }
    
        }
    
            $(document).keydown(function(e){
                if (e.which === 37){
                    space_cat.move('left');
                } else if (e.which === 39){
                    space_cat.move('right');
                }
            });
    
    
       
    
        const space_cat = new Defender ('spacecat.png', 'space cat', 370, 560, '#gamecontainer');
        space_cat.append_defenderImage();
        space_cat.move();
    
    
    let invaders = [];
    class Invader {
        constructor(src, alt, speed, direction, x, y, container){
            this.src = src;
            this.alt = alt;
            this.speed = speed;
            this.direction = direction;
            this.x = x;
            this.y = y;
            this.container = container;
            this.invader_imageElement = $('<img>', {
                src: this.src,
                alt: this.alt
            });
    
            this.invader_imageElement.css('position', 'absolute');
            this.invader_imageElement.css('left', this.x + 'px' );
            this.invader_imageElement.css('top', this.y + 'px');
    
    
            }
    
            append_invaderImage(){
                $(this.container).append(this.invader_imageElement);
    
            }
    
            move(){
                const containerWidth = $(this.container).width();
                const invaderWidth = this.invader_imageElement.width();


                if (this.direction === 'right'){
                    this.x += this.speed;
                } else if (this.direction === 'left'){
                    this.x -= this.speed;
                }

                    if (this.x + invaderWidth >= containerWidth || this.x <= 0){
                        if (this.direction === 'right'){
                            this.direction = 'downLeft';
                        } else if (this.direction === 'downLeft'){
                            this.direction = 'left';
                            this.y += 50;
                        } else {
                            this.direction = 'right';
                            this.y += 50;
                        }
                    }
                


                
                         
            
            
            
                this.invader_imageElement.css('left', this.x + 'px');
                this.invader_imageElement.css('top', this.y + 'px');
    
            }

            
    
    }
    
    function invaderGrid (rows, columns, container){
        initialPosition = 0;
        for (let i = 0; i < rows; i++){
            for (let j = 0; j < columns; j++){
                const x = 0 + j * 70;
                const y = i * 70;
    
            
           
    
            const space_mouse = new Invader('spacemouse.png', 'space mouse', 3, 'right', x, y, container);
            invaders.push(space_mouse);
            space_mouse.append_invaderImage();
            }
        }

    
    }
    
    invaderGrid(5, 6,'#invadercontainer');

    
    function moveInvaders(){
        const invaderWidth = this.invader_imageElement.width();
        let moveDown = false;
        for (let i = 0; i < invaders.length; i++){
            invaders[i].move();

            if (invaders[i].x <= 200 || invaders[i].x + invaders[i].x + invaderWidth >= containerWidth){
                moveDown = true;
            }
        }
        if (moveDown) {
            invadercontainer.css('top', 50 + 'px')
        }

        requestAnimationFrame(moveInvaders);


        /*let moveDown = false;

        for (let i = 0; i < invaders.length; i++){
           invaders[i].move();

            if (invaders[i].x <= 0 || invaders[i].x + invaders[i].invaderWidth >= containerWidth){
               moveDown = true;
            }
        }

        if (moveDown){
             invadercontainer.css('top', '+=' + 50 + 'px');
        }
        let reachedContainerBottom = false;
        for (let i = 0; i < invaders.length; i++){
            invaders[i].move();


            if (invaders[i].y + invaders[i].invader_imageElement.height() >= $(invaders[i].container).height()){
                reachedContainerBottom = true;
            }
        }

            if (reachedContainerBottom){
                for (let i = 0; i < invaders.length; i++){
                    invaders[i].y = initialPosition + (i%5) * 70;
                }
            }
        
        
    

        requestAnimationFrame(moveInvaders);*/
    
    }
    
    requestAnimationFrame(moveInvaders);
    
    });
    
    
    NEW NEW 
    $(document).ready(function(){

        //creating defender class, adding image, move function, then creating space_cat as defender instance
            class Defender {
                constructor(src, alt, x, y, container){
                    this.src = src;
                    this.alt = alt;
                    this.container = container;
                    this.x = x;
                    this.y = y;
                    this.defender_imageElement = $('<img>', {
                        src: this.src,
                        alt: this.alt,
                    });
        
                    this.defender_imageElement.css('position', 'absolute', );
                    this.defender_imageElement.css('left', this.x + 'px');
                    this.defender_imageElement.css('top', this.y + 'px');
            
        
                } 
        
                append_defenderImage(){
                    $(this.container).append(this.defender_imageElement);
        
                }
        
                
                move(direction){
                    const containerWidth = $(this.container).width();
                    const containerLeft = 0;
                    if (direction === 'left'){
                        this.x -= 15; 
                        if (this.x < containerLeft){
                            this.x = containerLeft;
                        }
                    } else if (direction === 'right'){
                        this.x += 15;
                        const containerRight = containerWidth - this.defender_imageElement.width();
                        if (this.x > containerRight){
                            this.x = containerRight;
                        }
                    }
        
                    this.defender_imageElement.css('left', this.x + 'px' );
                }
        
            }
        
                $(document).keydown(function(e){
                    if (e.which === 37){
                        space_cat.move('left');
                    } else if (e.which === 39){
                        space_cat.move('right');
                    }
                });
        
        
           
        
            const space_cat = new Defender ('spacecat.png', 'space cat', 370, 560, '#gamecontainer');
            space_cat.append_defenderImage();
            space_cat.move();
        
        
        let invaders = [];
        class Invader {
            constructor(src, alt, speed, direction, x, y, container){
                this.src = src;
                this.alt = alt;
                this.speed = speed;
                this.direction = direction;
                this.x = x;
                this.y = y;
                this.container = container;
                this.invader_imageElement = $('<img>', {
                    src: this.src,
                    alt: this.alt
                });
        
                this.invader_imageElement.css('position', 'absolute');
                this.invader_imageElement.css('left', this.x + 'px' );
                this.invader_imageElement.css('top', this.y + 'px');
        
        
                }
        
                append_invaderImage(){
                    $(this.container).append(this.invader_imageElement);
        
                }
        
                move(){
                    const containerWidth = $(this.container).width();
                    const invaderWidth = this.invader_imageElement.width();
    
    
                    if (this.direction === 'right'){
                        this.x += this.speed;
                    } else if (this.direction === 'left'){
                        this.x -= this.speed;
                    }
    
                        if (this.x + invaderWidth >= containerWidth || this.x <= 0){
                            return true;
                        }
                    
    
                    this.invader_imageElement.css('left', this.x + 'px');
                    this.invader_imageElement.css('top', this.y + 'px');
    
                    return false;
        
                }
    
                
        
        }
        
        function invaderGrid (rows, columns, container){
            initialPosition = 0;
            for (let i = 0; i < rows; i++){
                for (let j = 0; j < columns; j++){
                    const x = 0 + j * 70;
                    const y = i * 70;
        
                
               
        
                const space_mouse = new Invader('spacemouse.png', 'space mouse', 3, 'right', x, y, container);
                invaders.push(space_mouse);
                space_mouse.append_invaderImage();
                }
            }
    
        
        }
        
        invaderGrid(5, 6,'#invadercontainer');
    
        
        function moveInvaders() {
            let moveDown = false;
            const containerWidth = $('#invadercontainer').width();
            const containerHeight = $('#invadercontainer').height();
        
            for (let i = 0; i < invaders.length; i++) {
                if (invaders[i].move()) {
                    moveDown = true;
                }
            }
                if (moveDown) {
                    $('#invadercontainer').css('top', '+=50px');
    
                    for (let i = 0; i < invaders.length; i++){
                        if (invaders[i].direction === 'right'){
                            invaders[i].direction = 'left';
                        } else {
                            invaders[i].direction = 'right';
                        }
                    }
                
                }
    
    
        
            requestAnimationFrame(moveInvaders);
        }
        
    
        requestAnimationFrame(moveInvaders);
    
        });
        
        
        
    